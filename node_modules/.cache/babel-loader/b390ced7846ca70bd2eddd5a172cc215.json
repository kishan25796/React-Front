{"ast":null,"code":"var _jsxFileName = \"D:\\\\studentapp\\\\src\\\\components\\\\Uploader.js\";\nimport React, { Component } from \"react\";\nimport { Config } from './../config/config';\nexport default class Uploader extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      message: \"\"\n    };\n\n    this.getImage = e => {\n      const files = e.target.files;\n\n      if (files && files.length > 0) {\n        const file = files[0];\n        this.setState({\n          file\n        });\n      }\n    };\n\n    this.uploadFile = e => {\n      e.preventDefault();\n      const {\n        file\n      } = this.state;\n      this.setState({\n        message: \"Uploading...\"\n      });\n      const contentType = file.type; // eg. image/jpeg or image/svg+xml\n\n      console.log(\"Kushagra print filename\", file);\n      const generatePutUrl = `${Config.baseUrl}/s3Upload/${file.name}`;\n      fetch(generatePutUrl).then(response => response.json()).then(data => {\n        const requestOptions = {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": contentType\n          },\n          body: file\n        };\n        console.log(\"Kushagra print data\", data);\n        fetch(data.url, requestOptions).then(response => console.log(\"Kushagra\", response)).then(data => console.log(\"Kushagra print data\", data));\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 5\n      }\n    }, \"Upload an image to AWS S3 bucket\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"upload-image\",\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: this.getImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }\n    }, this.state.message), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.uploadFile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"file-upload-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 6\n      }\n    }, \"Upload\")));\n  }\n\n}","map":{"version":3,"names":["React","Component","Config","Uploader","state","message","getImage","e","files","target","length","file","setState","uploadFile","preventDefault","contentType","type","console","log","generatePutUrl","baseUrl","name","fetch","then","response","json","data","requestOptions","method","headers","body","url","render"],"sources":["D:/studentapp/src/components/Uploader.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport {Config} from './../config/config'\n\nexport default class Uploader extends Component {\n\tstate = {\n\t\tmessage: \"\",\n\t};\n\n\tgetImage = (e) => {\n\t\tconst files = e.target.files;\n\t\tif (files && files.length > 0) {\n\t\t\tconst file = files[0];\n\t\t\tthis.setState({ file });\n\t\t}\n\t};\n\n\tuploadFile = (e) => {\n\t\te.preventDefault();\n\t\tconst { file } = this.state;\n\t\tthis.setState({ message: \"Uploading...\" });\n\t\tconst contentType = file.type; // eg. image/jpeg or image/svg+xml\n\t\tconsole.log(\"Kushagra print filename\", file);\n\n\t\tconst generatePutUrl = `${Config.baseUrl}/s3Upload/${file.name}`;\n\n\t\tfetch(generatePutUrl)\n\t\t\t.then((response) => response.json())\n\t\t\t.then((data) => {\n\t\t\t\tconst requestOptions = {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: { \"Content-Type\": contentType },\n\t\t\t\t\tbody: file,\n\t\t\t\t};\n\t\t\t\tconsole.log(\"Kushagra print data\", data);\n\t\t\t\tfetch(data.url, requestOptions)\n\t\t\t\t\t.then((response) => console.log(\"Kushagra\", response))\n\t\t\t\t\t.then((data) => console.log(\"Kushagra print data\", data));\n\t\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<h1>Upload an image to AWS S3 bucket</h1>\n\t\t\t\t<input\n\t\t\t\t\tid=\"upload-image\"\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\tonChange={this.getImage}\n\t\t\t\t/>\n\t\t\t\t<p>{this.state.message}</p>\n\t\t\t\t<form onSubmit={this.uploadFile}>\n\t\t\t\t\t<button id=\"file-upload-button\">Upload</button>\n\t\t\t\t</form>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,MAAR,QAAqB,oBAArB;AAEA,eAAe,MAAMC,QAAN,SAAuBF,SAAvB,CAAiC;EAAA;IAAA;IAAA,KAC/CG,KAD+C,GACvC;MACPC,OAAO,EAAE;IADF,CADuC;;IAAA,KAK/CC,QAL+C,GAKnCC,CAAD,IAAO;MACjB,MAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASD,KAAvB;;MACA,IAAIA,KAAK,IAAIA,KAAK,CAACE,MAAN,GAAe,CAA5B,EAA+B;QAC9B,MAAMC,IAAI,GAAGH,KAAK,CAAC,CAAD,CAAlB;QACA,KAAKI,QAAL,CAAc;UAAED;QAAF,CAAd;MACA;IACD,CAX8C;;IAAA,KAa/CE,UAb+C,GAajCN,CAAD,IAAO;MACnBA,CAAC,CAACO,cAAF;MACA,MAAM;QAAEH;MAAF,IAAW,KAAKP,KAAtB;MACA,KAAKQ,QAAL,CAAc;QAAEP,OAAO,EAAE;MAAX,CAAd;MACA,MAAMU,WAAW,GAAGJ,IAAI,CAACK,IAAzB,CAJmB,CAIY;;MAC/BC,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCP,IAAvC;MAEA,MAAMQ,cAAc,GAAI,GAAEjB,MAAM,CAACkB,OAAQ,aAAYT,IAAI,CAACU,IAAK,EAA/D;MAEAC,KAAK,CAACH,cAAD,CAAL,CACEI,IADF,CACQC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADrB,EAEEF,IAFF,CAEQG,IAAD,IAAU;QACf,MAAMC,cAAc,GAAG;UACtBC,MAAM,EAAE,MADc;UAEtBC,OAAO,EAAE;YAAE,gBAAgBd;UAAlB,CAFa;UAGtBe,IAAI,EAAEnB;QAHgB,CAAvB;QAKAM,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCQ,IAAnC;QACAJ,KAAK,CAACI,IAAI,CAACK,GAAN,EAAWJ,cAAX,CAAL,CACEJ,IADF,CACQC,QAAD,IAAcP,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBM,QAAxB,CADrB,EAEED,IAFF,CAEQG,IAAD,IAAUT,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCQ,IAAnC,CAFjB;MAGA,CAZF;IAaA,CAnC8C;EAAA;;EAqC/CM,MAAM,GAAG;IACR,oBACC,oBAAC,KAAD,CAAO,QAAP;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,sCADD,eAEC;MACC,EAAE,EAAC,cADJ;MAEC,IAAI,EAAC,MAFN;MAGC,MAAM,EAAC,SAHR;MAIC,QAAQ,EAAE,KAAK1B,QAJhB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAFD,eAQC;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GAAI,KAAKF,KAAL,CAAWC,OAAf,CARD,eASC;MAAM,QAAQ,EAAE,KAAKQ,UAArB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACC;MAAQ,EAAE,EAAC,oBAAX;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,YADD,CATD,CADD;EAeA;;AArD8C"},"metadata":{},"sourceType":"module"}